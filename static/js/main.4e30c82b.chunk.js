(this["webpackJsonpkanda-weather-forecast"]=this["webpackJsonpkanda-weather-forecast"]||[]).push([[0],{1909:function(e,t,a){},1910:function(e,t,a){},1911:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(53),s=a.n(n),i=(a.p,a(324),a(77)),o=a.n(i),l=a(131),u=a(39),d=a.p+"static/media/forecasts.18de50e9.txt",j=a(34),h=a(14),b=function(e){var t=Object(r.useState)({}),a=Object(u.a)(t,2),c=a[0],n=a[1];return Object(h.jsx)("div",{className:"rainbow-m-around_small",children:Object(h.jsxs)(j.Picklist,{placeholder:"Select A Location",formatStyle:"large",onChange:function(t){n(t),e.onLocationChange(String(t.label).replace(",",""))},value:c,children:[Object(h.jsx)(j.Option,{name:"header",label:"Locations",variant:"header"}),e.locations.map((function(e,t){return Object(h.jsx)(j.Option,{name:String(t),label:e})}))]})})},p=function(e){var t=Object(r.useState)(new Date),a=Object(u.a)(t,2),c=a[0],n=a[1];return Object(h.jsx)("div",{className:"rainbow-m-around_medium",children:Object(h.jsx)(j.DatePicker,{formatStyle:"large",placeholder:"Select A Date",value:c,onChange:function(t){n(t),e.changed(t)}})})};a(1909);function f(e){return Object(h.jsx)(j.Card,{className:"card",style:{width:350},children:e.isForecastPresent?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"temp-text",children:e.userForecast.Temperature}),Object(h.jsx)("h1",{className:"cond-text",children:e.userForecast.Condition}),Object(h.jsxs)("h1",{className:"humidity-text",children:["Humidity: ",e.userForecast.Humidity]}),Object(h.jsxs)("h1",{className:"rain-text",children:["Chance of Rain: ",e.userForecast.chanceOfRain]})]}):Object(h.jsx)("h1",{className:"temp-text",children:"Sorry"})})}function O(e){return console.log("Uyo, NG Soil Moisture Data: ",e.uyoNGsmData),console.log("Accra, GH Soil Moisture Data: ",e.accraGHsmData),"Uyo NG"===e.location&&"[object Object]"!==e.uyoNGsmData&&"undefined"!==e.uyoNGsmData?Object(h.jsxs)(j.Card,{style:{width:1e3,margin:15},children:[Object(h.jsxs)("h1",{style:{fontSize:50},children:["Soil Moisture: ",e.uyoNGsmData]}),e.uyoNGsmData>10?Object(h.jsx)("h1",{style:{fontSize:50},children:"Flood Risk"}):Object(h.jsx)("h1",{style:{fontSize:50},children:"No Flood Risk"})]}):"Accra GH"===e.location&&"[object Object]"!==e.accraGHsmData&&"undefined"!==e.accraGHsmData?Object(h.jsxs)(j.Card,{style:{width:1e3,margin:15},children:[Object(h.jsxs)("h1",{style:{fontSize:50},children:["Soil Moisture: ",e.accraGHsmData]}),e.accraGHsmData>10?Object(h.jsx)("h1",{style:{fontSize:50},children:"Flood Risk"}):Object(h.jsx)("h1",{style:{fontSize:50},children:"No Flood Risk"})]}):Object(h.jsx)(j.Card,{style:{width:1e3,margin:15},children:Object(h.jsx)("h1",{children:"Loading"})})}function m(e){return Object(h.jsx)(j.Card,{style:{width:1e3,margin:15},children:e.isForecastPresent?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h1",{style:{fontSize:50},children:["Wind: ",e.userForecast.Wind]}),e.userForecast.Wind.match(/\d+/)>10?Object(h.jsx)("h1",{style:{fontSize:50},children:"Good Air Quality"}):Object(h.jsx)("h1",{style:{fontSize:50},children:"Bad Air Quality"})]}):Object(h.jsx)("h1",{children:"Sorry"})})}a(1910);var _={rainbow:{palette:{brand:"rgba(197, 21, 234, 1)"}}};var x=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),s=Object(u.a)(n,2),i=s[0],x=s[1],y=Object(r.useState)([]),g=Object(u.a)(y,2),S=g[0],v=g[1],w=Object(r.useState)(new Date),D=Object(u.a)(w,2),F=D[0],N=D[1],G=Object(r.useState)("?"),C=Object(u.a)(G,2),A=C[0],k=C[1],H=Object(r.useState)({}),L=Object(u.a)(H,2),z=L[0],P=L[1],J=Object(r.useState)(!1),M=Object(u.a)(J,2),R=M[0],E=M[1],W=Object(r.useState)({}),I=Object(u.a)(W,2),T=I[0],B=I[1],Q=Object(r.useState)({}),U=Object(u.a)(Q,2),K=U[0],Y=U[1];return Object(r.useEffect)((function(){fetch(d).then((function(e){return e.text()})).then((function(e){var t=e.split("\n");t.unshift("");for(var a=[],r={},n=0;n<t.length;n++)""===t[n]?(r.Location=t[n+1].substr(0,t[n+1].indexOf(":")),r.Date=t[n+1].substr(t[n+1].indexOf(":")+2),r.Pressure=t[n+2].substr(t[n+2].indexOf(":")+2),r.Temperature=t[n+3].substr(t[n+3].indexOf(":")+2),r.Humidity=t[n+4].substr(t[n+4].indexOf(":")+2),r.Condition=t[n+5].substr(t[n+5].indexOf(":")+2),r.Wind=t[n+6].substr(t[n+6].indexOf(":")+2),r.chanceOfRain=t[n+7].substr(t[n+7].indexOf(":")+2),a.push(r)):r={};c(a),x(!0)}))}),[]),Object(r.useEffect)((function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].Location);v(Array.from(new Set(e)))}),[a]),Object(r.useEffect)((function(){for(var e=0;e<a.length;e++){if(!0===String(F).includes(String(a[e].Date).replace(",","").replace("January","Jan").replace("February","Feb").replace("March","Mar").replace("April","Apr").replace("June","Jun").replace("July","Jul").replace("August","Aug").replace("September","Sep").replace("October","Oct").replace("November","Nov").replace("December","Dec").replace(" 1 "," 01 ").replace(" 2 "," 02 ").replace(" 3 "," 03 ").replace(" 4 "," 04 ").replace(" 5 "," 05 ").replace(" 6 "," 06 ").replace(" 7 "," 07 ").replace(" 8 "," 08 ").replace(" 9 "," 09 "))&&A===a[e].Location.replace(",",""))return P(a[e]),void E(!0);E(!1)}}),[F,A,a]),Object(r.useEffect)((function(){var e=F.getFullYear()+"-"+(F.getMonth()+1)+"-"+F.getDate();function t(){return(t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B({}),"","https://api.dclimate.net/apiv2/grid-history/era5_volumetric_soil_water_layer_1-hourly/5.6901705_-0.2099204?also_return_metadata=false&use_imperial_units=true&also_return_snapped_coordinates=true&convert_to_local_time=true",t.next=5,fetch("https://api.dclimate.net/apiv2/grid-history/era5_volumetric_soil_water_layer_1-hourly/5.6901705_-0.2099204?also_return_metadata=false&use_imperial_units=true&also_return_snapped_coordinates=true&convert_to_local_time=true");case 5:return a=t.sent,t.next=8,a.json();case 8:a=t.sent,B(a.data[e+" 00:00:00+00:00"]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y({}),"","https://api.dclimate.net/apiv2/grid-history/era5_volumetric_soil_water_layer_1-hourly/5.0405866_7.9194225?also_return_metadata=false&use_imperial_units=true&also_return_snapped_coordinates=true&convert_to_local_time=true",t.next=5,fetch("https://api.dclimate.net/apiv2/grid-history/era5_volumetric_soil_water_layer_1-hourly/5.0405866_7.9194225?also_return_metadata=false&use_imperial_units=true&also_return_snapped_coordinates=true&convert_to_local_time=true");case 5:return a=t.sent,t.next=8,a.json();case 8:a=t.sent,Y(a.data[e+" 00:00:00+01:00"]);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e=e.replace("-1","-01").replace("-2","-02").replace("-3","-03").replace("-4","-04").replace("-5","-05").replace("-6","-06").replace("-7","-07").replace("-8","-08").replace("-9","-09"),function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}()}),[F]),i?Object(h.jsxs)(j.Application,{style:{textAlign:"center"},theme:_,children:[Object(h.jsx)("h1",{className:"title",children:"gh-pages is WORKING"}),Object(h.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"row"},children:[Object(h.jsx)(p,{changed:N}),Object(h.jsx)(b,{onLocationChange:function(e){k(e)},locations:S})]}),Object(h.jsxs)("div",{className:"rainbow-align-content_center rainbow-p-around_medium",children:[Object(h.jsx)(f,{isForecastPresent:R,userForecast:z}),Object(h.jsxs)("div",{className:"rainbow-p-around_medium",children:[Object(h.jsx)(O,{uyoNGsmData:String(T),accraGHsmData:String(K),location:A}),Object(h.jsx)(m,{isForecastPresent:R,userForecast:z})]})]})]}):i?void 0:Object(h.jsx)("h1",{children:"Loading"})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1912)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),y()},226:function(e,t){},324:function(e,t,a){},754:function(e,t){},755:function(e,t){}},[[1911,1,2]]]);
//# sourceMappingURL=main.4e30c82b.chunk.js.map